import { NextResponse } from "next/server"

export async function GET() {
  try {
    // Mock data that matches the structure from your GitHub repository
    const mockData = {
      venues: [
        {
          rank: 1,
          exchange: "HTX",
          pair: "BONK/USDT",
          price: 0.00002299,
          spread: 0.04,
          depth2Percent: {
            positive: 15420.5,
            negative: 14890.25,
          },
          volume24h: 23650000,
          volumePercentage: 13.3,
          lastUpdated: "2025-08-24T00:00:00Z",
          trustScore: "green",
          marketType: "spot" as const,
          exchangeType: "cex" as const,
          tradeUrl: "https://www.htx.com/trade/bonk_usdt",
          priceChange24h: 0.00000088,
          priceChangePercentage24h: 3.98,
          high24h: 0.0000235,
          low24h: 0.0000218,
          bidAsk: {
            bid: 0.00002298,
            ask: 0.000023,
            bidSize: 1000000,
            askSize: 950000,
          },
        },
        {
          rank: 2,
          exchange: "Binance",
          pair: "BONK/USDT",
          price: 0.00002299,
          spread: 0.04,
          depth2Percent: {
            positive: 18200.75,
            negative: 17650.3,
          },
          volume24h: 21290000,
          volumePercentage: 12.0,
          lastUpdated: "2025-08-24T00:00:00Z",
          trustScore: "green",
          marketType: "spot" as const,
          exchangeType: "cex" as const,
          tradeUrl: "https://www.binance.com/en/trade/BONK_USDT",
          priceChange24h: 0.00000088,
          priceChangePercentage24h: 3.98,
          high24h: 0.0000235,
          low24h: 0.0000218,
          bidAsk: {
            bid: 0.00002298,
            ask: 0.000023,
            bidSize: 1200000,
            askSize: 1100000,
          },
        },
        {
          rank: 3,
          exchange: "P2B",
          pair: "BONK/USDT",
          price: 0.000023,
          spread: 0.13,
          depth2Percent: {
            positive: 8500.25,
            negative: 8200.5,
          },
          volume24h: 11850000,
          volumePercentage: 6.7,
          lastUpdated: "2025-08-24T00:00:00Z",
          trustScore: "green",
          marketType: "spot" as const,
          exchangeType: "cex" as const,
          tradeUrl: "https://p2b.io/trade/BONK_USDT",
          priceChange24h: 0.00000089,
          priceChangePercentage24h: 4.02,
          high24h: 0.00002355,
          low24h: 0.00002185,
          bidAsk: {
            bid: 0.00002297,
            ask: 0.00002303,
            bidSize: 800000,
            askSize: 750000,
          },
        },
        {
          rank: 4,
          exchange: "Coinbase Exchange",
          pair: "BONK/USD",
          price: 0.00002298,
          spread: 0.04,
          depth2Percent: {
            positive: 12300.8,
            negative: 11950.4,
          },
          volume24h: 9310000,
          volumePercentage: 5.2,
          lastUpdated: "2025-08-24T00:00:00Z",
          trustScore: "green",
          marketType: "spot" as const,
          exchangeType: "cex" as const,
          tradeUrl: "https://pro.coinbase.com/trade/BONK-USD",
          priceChange24h: 0.00000087,
          priceChangePercentage24h: 3.94,
          high24h: 0.00002348,
          low24h: 0.00002178,
          bidAsk: {
            bid: 0.00002297,
            ask: 0.00002299,
            bidSize: 900000,
            askSize: 850000,
          },
        },
        {
          rank: 5,
          exchange: "MEXC",
          pair: "BONK/USDT",
          price: 0.00002303,
          spread: 0.04,
          depth2Percent: {
            positive: 7800.6,
            negative: 7500.9,
          },
          volume24h: 8810000,
          volumePercentage: 5.0,
          lastUpdated: "2025-08-24T00:00:00Z",
          trustScore: "green",
          marketType: "spot" as const,
          exchangeType: "cex" as const,
          tradeUrl: "https://www.mexc.com/exchange/BONK_USDT",
          priceChange24h: 0.00000092,
          priceChangePercentage24h: 4.16,
          high24h: 0.00002358,
          low24h: 0.00002188,
          bidAsk: {
            bid: 0.00002302,
            ask: 0.00002304,
            bidSize: 700000,
            askSize: 680000,
          },
        },
        {
          rank: 6,
          exchange: "Bithumb",
          pair: "BONK/KRW",
          price: 0.00002305,
          spread: 0.31,
          depth2Percent: {
            positive: 6200.4,
            negative: 5950.8,
          },
          volume24h: 7290000,
          volumePercentage: 4.1,
          lastUpdated: "2025-08-24T00:00:00Z",
          trustScore: "green",
          marketType: "spot" as const,
          exchangeType: "cex" as const,
          tradeUrl: "https://www.bithumb.com/trade/order/BONK_KRW",
          priceChange24h: 0.00000094,
          priceChangePercentage24h: 4.25,
          high24h: 0.00002362,
          low24h: 0.00002192,
          bidAsk: {
            bid: 0.00002301,
            ask: 0.00002309,
            bidSize: 600000,
            askSize: 580000,
          },
        },
        {
          rank: 7,
          exchange: "BigONE",
          pair: "BONK/USDT",
          price: 0.00002298,
          spread: 0.56,
          depth2Percent: {
            positive: 4500.2,
            negative: 4200.6,
          },
          volume24h: 5320000,
          volumePercentage: 3.0,
          lastUpdated: "2025-08-24T00:00:00Z",
          trustScore: "yellow",
          marketType: "spot" as const,
          exchangeType: "cex" as const,
          tradeUrl: "https://big.one/trade/BONK-USDT",
          priceChange24h: 0.00000086,
          priceChangePercentage24h: 3.89,
          high24h: 0.00002345,
          low24h: 0.00002175,
          bidAsk: {
            bid: 0.00002292,
            ask: 0.00002304,
            bidSize: 500000,
            askSize: 480000,
          },
        },
      ],
      summary: {
        totalVenues: 100,
        totalVolume: 177840000,
        averageSpread: 0.3,
        averageTrustScore: "green",
        marketTypeDistribution: {
          spot: 96,
          perpetual: 4,
          futures: 0,
        },
        exchangeTypeDistribution: {
          cex: 94,
          dex: 6,
        },
        topExchanges: [
          {
            name: "Binance",
            volume: 28120000,
            venueCount: 5,
            averageTrustScore: "green",
          },
          {
            name: "HTX",
            volume: 23650000,
            venueCount: 3,
            averageTrustScore: "green",
          },
          {
            name: "P2B",
            volume: 11850000,
            venueCount: 2,
            averageTrustScore: "green",
          },
        ],
      },
      filters: {
        marketTypes: ["spot", "perpetual", "futures"],
        exchangeTypes: ["cex", "dex"],
        trustScores: ["green", "yellow", "red"],
        exchanges: ["Binance", "HTX", "P2B", "Coinbase Exchange", "MEXC", "Bithumb", "BigONE"],
      },
      metadata: {
        lastUpdated: "2025-08-24T01:26:01Z",
        totalPairs: 100,
        stalePairs: 0,
        anomalyPairs: 0,
        dataQuality: {
          highTrust: 85,
          mediumTrust: 12,
          lowTrust: 3,
        },
      },
    }

    return NextResponse.json(mockData)
  } catch (error) {
    console.error("Enhanced markets API error:", error)
    return NextResponse.json({ error: "Failed to fetch enhanced markets data" }, { status: 500 })
  }
}
